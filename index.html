<!DOCTYPE html>
<html>
<head>
	<title>D3 Map Example</title>

	<script src="https://d3js.org/d3.v4.js"></script>
	<script src="http://d3js.org/topojson.v1.min.js"></script>
	<style type="text/css">
		.states {
			fill: #ccc;
			stroke: #fff;
		}

		.counties:hover {
		  fill: red;
		}

		.county-borders {
		  fill: none;
		  stroke: #fff;
		  stroke-width: 0.5px;
		  stroke-linejoin: round;
		  stroke-linecap: round;
		  pointer-events: none;
		}
	</style>
</head>
<body>
	<script type="text/javascript">
		var width = 960, 
			height = 600; 

		var projection = d3.geoAlbersUsa(); 
		var path = d3.geoPath(); 

		var svg = d3.select('body').append('svg')
			.attr('width', width)
			.attr('height', height); 

		d3.json('combined-data.json', function(error, data){
			if (error) throw error; 
			
			svg.selectAll('path')
				.data(topojson.feature(data, data.objects.states).features)
				.enter().append('path')
				.attr('d', path)
				.attr('class', 'counties')
				.on('mouseover', function(d){
					console.log(d); 
				})

			svg.append('path')
				.attr('class', 'county-borders')
				.attr('d', path(topojson.mesh(data, data.objects.states, function(a,b){return a!== b}))); 
			// svg.append('path')
			// 	.attr('class', 'states')
			// 	.datum({type: "FeatureCollection", features: "features"})
			// 	.attr('d', path(data)); 
			console.log(d3.selectAll('path'))
		})			


	</script>
</body>
</html>